---
banner: "Banner/Library.png"
banner_y: 0.7575
banner_lock: True
banner_icon: ğŸ“–

---



# å›¾ä¹¦åº“

 `button-addbook` `button-synweread`



```dataviewjs
// ä¿®æ”¹è·¯å¾„
let path = dv.pages(`#path`).filter(p=>String(p.file.path).includes("BookLibPath"))[0].BookLibPath;
// console.log(path);

async function throughAllBook(){
	let okReadNum = 0; // è¯»å®Œçš„ä¹¦æ•°é‡
	let onReadNum = 0; // æ­£åœ¨è¯»çš„ä¹¦æ•°é‡
	// éå†æ‰€æœ‰å›¾ä¹¦
	for(let i=0;i<dataPagesNum;i++)
	{
		// éå†æ¯æœ¬ä¹¦çš„å…¥é“¾
		let readNums = 0; //é˜…è¯»æ•°é‡
		// console.log(dataPages[i].file.inlinks.length);
		
		for(let j=0;j<dataPages[i].file.inlinks.length;j++)
		{
			// å…¥é“¾è·¯å¾„
			let inLinkPath = dataPages[i].file.inlinks[j].path;
			// console.log(inLinkPath);
			// åˆ¤æ–­åˆè§„å…¥é“¾
			let inlinkIsValid = 0;
			let isValidMatchs = inLinkPath.match(/\d{4}å¹´è¯»ä¹¦æ¸…å•/);
			if(isValidMatchs)
			{
				inlinkIsValid = isValidMatchs.length;
			}
			// console.log(inlinkIsValid);
			// ä¸åˆè§„çš„è·³è¿‡
			if(inlinkIsValid == 0)
			{continue;}
			// å¼€å§‹æ£€æŸ¥é‡Œé¢çš„å†…å®¹
			// å…ˆè·å–ä¸€ä¸‹æœ¬ä¹¦çš„è·¯å¾„
			let thisFilePath = dataPages[i].file.path.replace(/\s+/g, '%20');
			// console.log(thisFilePath);
			// è·å–é“¾æ¥é‡Œçš„å†…å®¹
			let inlinkFileContent = await dv.io.load(inLinkPath); 
			// åŠ¨æ€æ­£åˆ™è¡¨è¾¾å¼
			// åŒ¹é…å‡ºæœªå®Œæˆæ¸…å•çš„æ•°é‡
			let onregex = new RegExp("- \\[ \\] .*\\(" + thisFilePath + "\\).*$", "gm");
			let onmatchs = inlinkFileContent.match(onregex);
			let onFilePathNums = 0;
			// æœ‰æœªå®Œæˆæ¸…å•è¯´æ˜åœ¨è¯»
			if(onmatchs)
			{
				onFilePathNums = onmatchs.length;
				onReadNum = onReadNum+1;
				// console.log(onFilePathNums);
				continue;
			}
			
			
			// åŒ¹é…å‡ºå®Œæˆæ¸…å•çš„æ•°é‡ 
			let okregex = new RegExp("- \\[x] .*\\(" + thisFilePath + "\\).*$", "gm");
			let okmatchs = inlinkFileContent.match(okregex);
			let okFilePathNums = 0;
			// æœ‰å®Œæˆæ¸…å•è¯´æ˜è¯»è¿‡
			if(okmatchs)
			{
				okFilePathNums = okmatchs.length;
				
			}
			readNums += okFilePathNums;
		
		}
		if(readNums)
		{
			okReadNum =okReadNum+1;
		}
		
	}
	// console.log(onReadNum);
	return [onReadNum,okReadNum];

}

let dataPages = [];
dataPages = dv.pages(`"${path}" and #ä¹¦ç±`);
var dataPagesNum = dataPages.length;
var onReadNum = 0;
var okReadNum = 0;
[onReadNum,okReadNum] = await throughAllBook();
dv.paragraph(`==ä¹¦åº“å…±== **${dataPagesNum}** æœ¬ï¼Œ==è¯»è¿‡== **${okReadNum}** æœ¬ `)

```



## è‡ªåŠ©æŸ¥è¯¢



![æŸ¥è¯¢ä¹¦](æŸ¥è¯¢ä¹¦.md)

---

## åˆ†åŒº


```chartsview
#-----------------#
#- chart type    -#
#-----------------#
type: WordCloud

#-----------------#
#- chart data    -#
#-----------------#
data: |
    dataviewjs:
    return (() => {
    let path = dv.pages(`#path`).filter(p=>String(p.file.path).includes("BookLibPath"))[0].BookLibPath;
    var i = [
    dv.pages(`#ä¹¦ç± and "${path}/A_é©¬å…‹æ€ä¸»ä¹‰"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/B_å“²å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/C_ç¤¾ä¼šç§‘å­¦æ€»è®º"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/D_æ”¿æ²»æ³•å¾‹"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/E_å†›äº‹"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/F_ç»æµ"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/G_æ–‡åŒ–ç§‘å­¦æ•™è‚²ä½“è‚²"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/H_è¯­è¨€æ–‡å­—"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/I_æ–‡å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/J_è‰ºæœ¯"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/K_å†å²åœ°ç†"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/N_è‡ªç„¶ç§‘å­¦æ€»è®º"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/O_æ•°ç†ç§‘å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/P_å¤©æ–‡å­¦å’Œåœ°çƒç§‘å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/Q_ç”Ÿç‰©ç§‘å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/R_åŒ»è¯å«ç”Ÿ"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/S_å†œä¸šç§‘å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/T_å·¥ä¸šæŠ€æœ¯"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/U_äº¤é€šè¿è¾“"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/V_èˆªç©ºèˆªå¤©"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/X_ç¯å¢ƒç§‘å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/Z_ç»¼åˆæ€§å›¾ä¹¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/0_inbox"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/A_é©¬å…‹æ€ä¸»ä¹‰/A4_æ¯›æ³½ä¸œè‘—ä½œ"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/B_å“²å­¦/B84_å¿ƒç†å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/F_ç»æµ/F0_ç»æµå­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/F_ç»æµ/F3_å†œä¸šç»æµ"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/F_ç»æµ/F4_å·¥ä¸šç»æµ"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/F_ç»æµ/F8_é‡‘èç»æµ"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/I_æ–‡å­¦/I1_ä¸–ç•Œæ–‡å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/I_æ–‡å­¦/I2_ä¸­å›½æ–‡å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/K_å†å²åœ°ç†/K1_ä¸–ç•Œå†å²"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/K_å†å²åœ°ç†/K2_ä¸­å›½å†å²"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/K_å†å²åœ°ç†/K8_äººç‰©ä¼ è®°"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/O_æ•°ç†ç§‘å­¦/O1_æ•°å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/O_æ•°ç†ç§‘å­¦/O4_ç‰©ç†å­¦"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/T_å·¥ä¸šæŠ€æœ¯/TN_ç”µä¿¡æŠ€æœ¯"`).length,
    dv.pages(`#ä¹¦ç± and "${path}/T_å·¥ä¸šæŠ€æœ¯/TP_è®¡ç®—æœºæŠ€æœ¯"`).length,];
    return [
    {
    x: "æ¯›æ³½ä¸œè‘—ä½œ",
    value: i[23]
    },
    {
    x: "å¿ƒç†å­¦",
    value: i[24]
    },
    {
    x: "ç»æµå­¦",
    value: i[25]
    },
    {
    x: "å†œä¸šç»æµ",
    value: i[26]
    },
    {
    x: "å·¥ä¸šç»æµ",
    value: i[27]
    },
    {
    x: "é‡‘èç»æµ",
    value: i[28]
    },
    
    {
    x: "ä¸–ç•Œæ–‡å­¦",
    value: i[29]
    },
    {
    x: "ä¸­å›½æ–‡å­¦",
    value: i[30]
    },
    {
    x: "ä¸–ç•Œå†å²",
    value: i[31]
    },
    {
    x: "ä¸­å›½å†å²",
    value: i[32]
    },
    {
    x: "äººç‰©ä¼ è®°",
    value: i[33]
    },
    {
    x: "æ•°å­¦",
    value: i[34]
    },
    {
    x: "ç‰©ç†å­¦",
    value: i[35]
    },
    {
    x: "ç”µä¿¡æŠ€æœ¯",
    value: i[36]
    },
    {
    x: "è®¡ç®—æœºæŠ€æœ¯",
    value: i[37]
    }
    ];
    })();

#-----------------#
#- chart options -#
#-----------------#
options:
  wordField: "x"
  weightField: "value"
  color: "#B27679"
  wordStyle:
    fontFamily: "Verdana"
    fontSize: [30, 80]
  interactions:
    type: "element-active"
  style:
    backgroundColor: "transpent"
  state:
    active:
      style:
        lineWidth: 200
```


```dataviewjs
let path = dv.pages(`#path`).filter(p=>String(p.file.path).includes("BookLibPath"))[0].BookLibPath;
var i = [
dv.pages(`#ä¹¦ç± and "${path}/A_é©¬å…‹æ€ä¸»ä¹‰"`).length,
dv.pages(`#ä¹¦ç± and "${path}/B_å“²å­¦"`).length,
dv.pages(`#ä¹¦ç± and "${path}/C_ç¤¾ä¼šç§‘å­¦æ€»è®º"`).length,
dv.pages(`#ä¹¦ç± and "${path}/ä¹¦åº“/D_æ”¿æ²»æ³•å¾‹"`).length,
dv.pages(`#ä¹¦ç± and "${path}/ä¹¦åº“/E_å†›äº‹"`).length,
dv.pages(`#ä¹¦ç± and "${path}/F_ç»æµ"`).length,
dv.pages(`#ä¹¦ç± and "${path}/G_æ–‡åŒ–ç§‘å­¦æ•™è‚²ä½“è‚²"`).length,
dv.pages(`#ä¹¦ç± and "${path}/H_è¯­è¨€æ–‡å­—"`).length,
dv.pages(`#ä¹¦ç± and "${path}/I_æ–‡å­¦"`).length,
dv.pages(`#ä¹¦ç± and "${path}/J_è‰ºæœ¯"`).length,
dv.pages(`#ä¹¦ç± and "${path}/K_å†å²åœ°ç†"`).length,
dv.pages(`#ä¹¦ç± and "${path}/N_è‡ªç„¶ç§‘å­¦æ€»è®º"`).length,
dv.pages(`#ä¹¦ç± and "${path}/O_æ•°ç†ç§‘å­¦"`).length,
dv.pages(`#ä¹¦ç± and "${path}/P_å¤©æ–‡å­¦å’Œåœ°çƒç§‘å­¦"`).length,
dv.pages(`#ä¹¦ç± and "${path}/Q_ç”Ÿç‰©ç§‘å­¦"`).length,
dv.pages(`#ä¹¦ç± and "${path}/R_åŒ»è¯å«ç”Ÿ"`).length,
dv.pages(`#ä¹¦ç± and "${path}/S_å†œä¸šç§‘å­¦"`).length,
dv.pages(`#ä¹¦ç± and "${path}/T_å·¥ä¸šæŠ€æœ¯"`).length,
dv.pages(`#ä¹¦ç± and "${path}/U_äº¤é€šè¿è¾“"`).length,
dv.pages(`#ä¹¦ç± and "${path}/V_èˆªç©ºèˆªå¤©"`).length,
dv.pages(`#ä¹¦ç± and "${path}/X_ç¯å¢ƒç§‘å­¦"`).length,
dv.pages(`#ä¹¦ç± and "${path}/Z_ç»¼åˆæ€§å›¾ä¹¦"`).length,
dv.pages(`#ä¹¦ç± and "${path}/0_inbox"`).length]
dv.paragraph(`==å…±== **${i[0]+i[1]+i[5]+i[7]+i[8]+i[10]+i[12]+i[13]+i[17]+i[22]}** æœ¬ï¼Œ==0_ç¼“å­˜åŒº== **${i[22]}** æœ¬`)
dv.paragraph(`==A_é©¬å…‹æ€ä¸»ä¹‰== **${i[0]}** æœ¬ï¼Œ==B_å“²å­¦åŒº== **${i[1]}** æœ¬ï¼Œ==F_ç»æµåŒº== **${i[5]}** æœ¬ï¼Œ==H_è¯­è¨€æ–‡å­—== **${i[7]}** æœ¬ï¼Œ==I_æ–‡å­¦åŒº== **${i[8]}** æœ¬ï¼Œ==K_å†å²åœ°ç†åŒº== **${i[10]}** æœ¬ï¼Œ==T_æ•°ç†ç§‘å­¦åŒº== **${i[12]}** æœ¬ï¼Œ==T_å¤©æ–‡å­¦å’Œåœ°çƒç§‘å­¦åŒº== **${i[13]}** æœ¬ï¼Œ==T_å·¥ä¸šæŠ€æœ¯åŒº== **${i[17]}** æœ¬ `)

```




## ä¿®æ”¹æ—¥å¿—

- [x] ğŸ›« 2023-11-18 ä¿®æ”¹ä¹¦ç±ç›®å½•å¸¦ç©ºæ ¼çš„bug(ä¹¦ç±æ¨¡æ¿ï¼ŒæŸ¥è¯¢ä¹¦) âœ… 2023-11-18