<%*
var path = "ä¹¦åº“"
var pathArray = 
{
"inbox":"0_inbox/",
"é©¬å…‹æ€ä¸»ä¹‰":"A_é©¬å…‹æ€ä¸»ä¹‰/",
"å¿ƒç†å­¦":"B_å“²å­¦/B84_å¿ƒç†å­¦/",
"ç»æµå­¦":"F_ç»æµ/F0_ç»æµå­¦/",
"å†œä¸šç»æµ":"F_ç»æµ/F3_å†œä¸šç»æµ/",
"å·¥ä¸šç»æµ":"F_ç»æµ/F4_å·¥ä¸šç»æµ/",
"é‡‘èç»æµ":"F_ç»æµ/F8_é‡‘èç»æµ/",
"ä¸­å›½æ–‡å­¦":"I_æ–‡å­¦/I2_ä¸­å›½æ–‡å­¦/",
"ä¸–ç•Œæ–‡å­¦":"I_æ–‡å­¦/I1_ä¸–ç•Œæ–‡å­¦/",
"ä¸­å›½å†å²":"K_å†å²åœ°ç†/K2_ä¸­å›½å†å²/",
"ä¸–ç•Œå†å²":"K_å†å²åœ°ç†/K1_ä¸–ç•Œå†å²/",
"äººç‰©ä¼ è®°":"K_å†å²åœ°ç†/K8_äººç‰©ä¼ è®°/",
"æ•°å­¦":"O_æ•°ç†ç§‘å­¦/O1_æ•°å­¦/",
"ç‰©ç†":"O_æ•°ç†ç§‘å­¦/O4_ç‰©ç†å­¦/",
"è®¡ç®—æœºæŠ€æœ¯":"T_å·¥ä¸šæŠ€æœ¯/TP_è®¡ç®—æœºæŠ€æœ¯/",
"ç”µä¿¡æŠ€æœ¯":"T_å·¥ä¸šæŠ€æœ¯/TN_ç”µä¿¡æŠ€æœ¯/"
};

let type = await tp.system.suggester(["ä¸çŸ¥é“å•¥ç±»åˆ«","é©¬å…‹æ€ä¸»ä¹‰","å¿ƒç†å­¦","ç»æµå­¦","å·¥ä¸šç»æµ","å†œä¸šç»æµ","é‡‘èç»æµ","ä¸­å›½æ–‡å­¦","ä¸–ç•Œæ–‡å­¦","ä¸­å›½å†å²","ä¸–ç•Œå†å²","äººç‰©ä¼ è®°","æ•°å­¦","ç‰©ç†","è®¡ç®—æœºæŠ€æœ¯","ç”µä¿¡æŠ€æœ¯"],["inbox","é©¬å…‹æ€ä¸»ä¹‰","å¿ƒç†å­¦","ç»æµå­¦","å·¥ä¸šç»æµ","å†œä¸šç»æµ","é‡‘èç»æµ","ä¸­å›½æ–‡å­¦","ä¸–ç•Œæ–‡å­¦","ä¸­å›½å†å²","ä¸–ç•Œå†å²","äººç‰©ä¼ è®°","æ•°å­¦","ç‰©ç†","è®¡ç®—æœºæŠ€æœ¯","ç”µä¿¡æŠ€æœ¯"])

await tp.file.move(path + "/" + pathArray[type] + tp.file.title)
-%>
---
ä¹¦å: <% tp.file.title %>
ä½œè€…: "{{VALUE:author}}"
å‡ºç‰ˆç¤¾: {{VALUE:publish}}
å‡ºç‰ˆå¹´: {{VALUE:publishyear}} 
æ€»é¡µæ•°: {{VALUE:pagecount}}
æˆ‘çš„è¯„çº§: â­â­â­â­â­
å°é¢: {{VALUE:cover}}
è±†ç“£é¡µé¢: {{VALUE:douban_url}}
è±†ç“£è¯„åˆ†: {{VALUE:rating}}
ISBN: {{VALUE:isbn}}
tags: 
- ä¹¦ç±/<% type %>
---

> [!bookinfo]+ **ã€Š{{VALUE:bookname}}ã€‹**
> ![bookcover|200]({{VALUE:cover}})
>
| å­—æ®µ Â  | å€¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
|:------ |:------------------------------------------ |
| ä½œè€… Â  | {{VALUE:author}} Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| ISBN Â  | {{VALUE:isbn}} Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| å‡ºç‰ˆå¹´ | {{VALUE:publishyear}} Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â |
| å‡ºç‰ˆç¤¾ | {{VALUE:publish}} Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â |
| æ¥æº Â  | [{{VALUE:bookname}}]({{VALUE:douban_url}}) |
| è¯„åˆ† Â  | {{VALUE:rating}} Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| é¡µç  Â  | {{VALUE:pagecount}} Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â |
| åˆ†ç±» Â  | `=this.file.etags` Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
| æˆ‘çš„è¯„çº§ Â | `=this.file.link.æˆ‘çš„è¯„çº§` Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |

  
> [!abstract]+ **å†…å®¹ç®€ä»‹**
>
ã€Š{{VALUE:bookname}}ã€‹
{{VALUE:intro}}

{{VALUE:authorintro}}

{{VALUE:quote1}}
{{VALUE:quote2}}

---

## ğŸ—’ï¸ æˆ‘çš„ç¬”è®°


### å¾®ä¿¡è¯»ä¹¦

- **å¾®ä¿¡è¯»ä¹¦** - `é«˜äº®åˆ’çº¿`

```dataviewjs
let WereadPath = dv.pages(`#path`).filter(p=>String(p.file.path).includes("BookLibPath"))[0].WereadPath;
let link = dv.pages(`"${WereadPath}"`)
.filter(p=>String(p.file.name).includes("{{VALUE:bookname}}")).file.path;
if(link[0])
{
	let path = link[0].replace(/\s+/g, '%20');
	dv.paragraph("![]("+path+"#é«˜äº®åˆ’çº¿)");
}

```

- **å¾®ä¿¡è¯»ä¹¦** - `è¯»ä¹¦ç¬”è®°`

```dataviewjs
let WereadPath = dv.pages(`#path`).filter(p=>String(p.file.path).includes("BookLibPath"))[0].WereadPath;
let link = dv.pages(`"${WereadPath}"`)
.filter(p=>String(p.file.name).includes("{{VALUE:bookname}}")).file.path;
if(link[0])
{
	let path = link[0].replace(/\s+/g, '%20');
	dv.paragraph("![]("+path+"#è¯»ä¹¦ç¬”è®°)");
}


```

- **å¾®ä¿¡è¯»ä¹¦** - `æœ¬ä¹¦è¯„è®º`

```dataviewjs
let WereadPath = dv.pages(`#path`).filter(p=>String(p.file.path).includes("BookLibPath"))[0].WereadPath;
let link = dv.pages(`"${WereadPath}"`)
.filter(p=>String(p.file.name).includes("{{VALUE:bookname}}")).file.path;
if(link[0])
{
	let path = link[0].replace(/\s+/g, '%20');
	dv.paragraph("![]("+path+"#æœ¬ä¹¦è¯„è®º)");
}

```


### Zotero

- **Zotero** - `ç”µå­ä¹¦`

```dataviewjs
let ZoteroPath = dv.pages(`#path`).filter(p=>String(p.file.path).includes("BookLibPath"))[0].ZoteroPath;
let link = dv.pages(`"${ZoteroPath}"`)
.filter(p=>String(p.file.name).includes("{{VALUE:bookname}}")).file.path;
if(link[0])
{
	let path = link[0].replace(/\s+/g, '%20');
	dv.paragraph("![]("+path+"#Zoteroé“¾æ¥)");
}
```

- **Zotero** - `æ³¨é‡Š`

```dataviewjs
let ZoteroPath = dv.pages(`#path`).filter(p=>String(p.file.path).includes("BookLibPath"))[0].ZoteroPath;
let link = dv.pages(`"${ZoteroPath}"`)
.filter(p=>String(p.file.name).includes("{{VALUE:bookname}}")).file.path;
if(link[0])
{
	let path = link[0].replace(/\s+/g, '%20');
	dv.paragraph("![]("+path+"#æ³¨é‡Š)");
}
```

### è¯»ä¹¦ç¬”è®°

```dataviewjs
let BookNotePath = dv.pages(`#path`).filter(p=>String(p.file.path).includes("BookLibPath"))[0].BookNotePath;
let link = dv.pages(`"${BookNotePath}"`)
.filter(p=>String(p.file.name).includes("{{VALUE:bookname}}")).file.path;
if(link[0])
{
	let path = link[0].replace(/\s+/g, '%20');
	dv.paragraph("![]("+path+")");
}
```



## ğŸŒ å…¶å®ƒç›¸å…³